<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Processed Image</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <style>
      /* Gradient background for the entire page */
      body {
        background: linear-gradient(
          135deg,
          rgba(252, 70, 107, 0.6),
          rgba(63, 94, 251, 0.6)
        );
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 0;
        font-family: "Arial", sans-serif;
      }


      /* Slide-in animation for the container */
      @keyframes slideIn {
        from {
          transform: translateY(50px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      /* Style for the image */
      #processedImage {
        /* width: 100%; */
        /* height: auto;  */
        width: 80vw;
        height: 90vh;
        /* object-fit: contain; Ensure image fits within container */
        border-radius: 10px;
        animation: fadeIn 2s ease-in-out, pulse 1.5s infinite;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        /* padding-bottom: 10px; */
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      /* Pulsating border animation */
      @keyframes pulse {
        0% {
          box-shadow: 0 0 15px 5px rgba(63, 94, 251, 0.4);
        }
        50% {
          box-shadow: 0 0 25px 10px rgba(63, 94, 251, 0.8);
        }
        100% {
          box-shadow: 0 0 15px 5px rgba(63, 94, 251, 0.4);
        }
      }
    </style>
  </head>
  <body class="text-center">

      <img
        id="processedImage"
        class="img-fluid"
        src="../static/processed_image.jpg"
        alt="Processed Image"
      />
  </body>
  <script>
    //     function redirectToNextPage() {
    //     setTimeout(() => {
    //         window.location.href = '/'; // Redirect to /next_page after 10 seconds
    //     }, 10000); // 10000 milliseconds = 10 seconds
    // }

    // document.addEventListener('DOMContentLoaded', () => {
    //     redirectToNextPage(); // Call the redirect function on page load
    // });

    // ------------------------------------------------------------------------------------------------------------------------

    // fetch('/restart')
    //         .then(response => response.json())
    //         .then(data => {
    //             console.log(data.message); // Use the data returned from Flask
    //         })
    //         .catch(error => {
    //             console.error('Error:', error);
    //         });

    document.addEventListener("DOMContentLoaded", function () {
      function checkData() {
        fetch("/get-request-data3")
          .then((response) => response.json())
          .then((data) => {
            if (data) {
              window.location.href = "/home";
              // console.log(data);
            }

            // You can update the DOM or perform other actions with the data here
          })
          .catch((error) => console.error("Error:", error));
      }

      // Check for data every 5 seconds
      setInterval(checkData, 1000);
    });

    function redirectToHome() {
      setTimeout(function () {
        window.location.href = "/";
      }, 20000); // 10000 milliseconds = 10 seconds
    }

    // Call the function to start the redirect
    redirectToHome();
  </script>
</html>
